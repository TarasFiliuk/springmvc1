<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
</head>
<body>

<div>
<form th:action="@{/save}" method="post">
    <input id="username" class="change" type="text" name="username" placeholder="name" style="margin-top: 5px"><span id="message1" style="color: red"></span><br>
    <!--<input type="text" name="firstName" placeholder="firstname" style="margin-top: 5px">-->
    <!--<input type="text" name="lastName" placeholder="lastname" style="margin-top: 5px">-->
    <input id="email" class="change" type="email" name="email" placeholder="email" style="margin-top: 5px"><span id="message2" style="color: red"></span><br>
    <input id="pas1" class="change" type="password" name="password" placeholder="pass" style="margin-top: 5px"><span id="message4" style="color: red"></span><br>
    <input id="pas2" class="change" type="password" name="password2" placeholder="check pass" style="margin-top: 5px"><span id="message3" style="color: red"></span><br>
    <input id="submit_button" type="button" name="" value="Перевірка" style="margin-top: 5px" onclick="check()">

    <input type="hidden"
           name="${_csrf.parameterName}"
           value="${_csrf.token}"/>
</form>
</div>


<!--jkkjj-->
<p><a th:href="'/create/manager_page'" th:text="'create manager'"></a></p>

<p><a th:href="@{/admin/page}" th:text="'Admin page'"></a></p>
<p><a th:href="'/createAdmin'" th:text="'Create Admin'"></a></p>

<form th:action="@{/sentMail}" method="post">
    <input type="email" name="email" placeholder="mail">
    <input type="text" name="subject" placeholder="subject">
    <input type="text" name="message" placeholder="message">

    <input type="submit" name="" placeholder="">
</form>

<!--<a th:href="@{/times}">TIMES</a>-->
<h1>TIME</h1>
<form th:action="@{/times}" method="post">
    <input type="date" name="date" placeholder="time">
    <select name="start" id="start">
        <option value="9">9:00</option>
        <option value="12">12:00</option>
        <option value="15">15:00</option>
        <option value="18">18:00</option>
        <option value="21">21:00</option>
    </select>
    <select name="end" id="end">
        <option value="9">9:00</option>
        <option value="12">12:00</option>
        <option value="15">15:00</option>
        <option value="18">18:00</option>
        <option value="21">21:00</option>
    </select>
    <input type="submit" name="" placeholder="">

    <input type="hidden"
           name="${_csrf.parameterName}"
           value="${_csrf.token}"/>
</form>
<div th:if="${#strings.isEmpty(username)}">
<h3>Hello</h3>
    <form th:action="@{/login}" method="post">
        <input type="text" name="username" placeholder="username">
        <input type="password" name="password" placeholder="password">
        <input type="submit" value="go!">
        <input type="hidden"
               name="${_csrf.parameterName}"
               value="${_csrf.token}"/>
    </form>
</div>
<div th:unless="${#strings.isEmpty(username)}">
<h3> Person name - <em th:text=" ${username}"></em></h3>
<h3> Person role - <em th:text=" ${role}"></em></h3>
<h3> Account role - <em th:text=" ${accType}"></em></h3>
    <form th:action="@{/logout}" method="post">
        <input type="submit" value="Logout">

        <input type="hidden"
               name="${_csrf.parameterName}"
               value="${_csrf.token}"/>
    </form>
</div>

<script>
    $('.change').keyup(function () {
        if($('#pas1').val() == $('#pas2').val() && $('#username').val() !== 'в' && $('#email').val() !== '' && $('#pas1').val() !== ''){
            $('#submit_button').attr('type','submit');
            $('#submit_button').attr('value','Зареєструватись');
        }
        if($('#username').val() !== ''){
            $('#message1').html("");
        }
        if($('#email').val() !== ''){
            $('#message2').html("");
        }
        if($('#pas1').val() !== ''){
            $('#message4').html("");
        }
        console.log($('#pas1').val(), $('#pas2').val())
    });
    function check() {
        if($('#pas1').val() !== $('#pas2').val()){
            $('#message3').html('паролі не співпадають')
        }
        if($('#username').val() == ''){
            $('#message1').html("введіть ім'я");
        }
        if($('#email').val() == ''){
            $('#message2').html("введіть email");
        }
        if($('#pas1').val() == ''){
            $('#message4').html("введіть пароль");
        }
    }
</script>

</body>
</html>